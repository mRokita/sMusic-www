{% extends "base.html" %}
{% block title %}sMusic-www - Minimal Preview{% endblock %}
{% block menu_links %}
    <a href="/" class="collection-item active blue">Panel główny</a>
    <a href="/library/" class="collection-item blue-text">Biblioteka muzyczna</a>
    <a href="#" class="collection-item blue-text">Kalendarz</a>
{% endblock %}
{% block menu_links_mobile %}
    <li><a href="/" class="collection-item">Panel główny</a></li>
    <li><a href="/library/" class="collection-item">Biblioteka muzyczna</a></li>
    <li><a href="#" class="collection-item">Kalendarz</a></li>
{% endblock %}
{% block dropdown_title %}
Panel główny
{% endblock %}
{% block controller %}playerStatus{% endblock %}
{% block menu %}
    <div class="hide-on-med-and-down">
        {% include "search_box.html" %}
    </div>
    {{ super() }}
    <div class="hide-on-large-only">
        {% include "search_box.html" %}
    </div>
{% endblock %}
{% block main %}
    <div class="row card-panel grey" style="padding:0px;"
         xmlns="http://www.w3.org/1999/html">
        {% raw %}
        <div class="col l5 m6 s12">
            <div class="card">
                <div class="card-image waves-effect waves-block waves-light">
                  <img class="activator" id="albumart" onError="this.src='http://drlynnjohnson.com/wp-content/uploads/2014/03/cd-dvd.jpg';" data-ng-src='{{ albumArtURL }}'>
                </div>
                <div class="card-content">
                  <span class="card-title activator grey-text text-darken-4">{{ trackTitle }}</span>
                </div>
                <div class="card-reveal">
                    <span class="card-title grey-text text-darken-4" id="status_title">{{ trackTitle }}</span>
                    <br />
                    <label for="title">Tytuł</label>
                    <div id="title">{{ trackTitle }}</div>
                    <label for="album">Album</label>
                    <div id="album">{{ trackAlbum }}</div>
                    <label for="artist">Wykonawca</label>
                    <div id="artist">{{ trackArtist }}</div>
                </div>
            </div>
        </div>
        <div class="col l7 m6 s12">
            <div class="card-panel white" data-ng-if="queue.length">
                <h5 style="margin-top:0">Kolejka</h5>
                <ul class="collection" >
                    <li class="collection-item" data-ng-repeat="track in queue">{{ track.title }}&nbsp;&nbsp;<span class="grey-text">{{ track.artist }}&nbsp;-&nbsp;{{ track.album }}</span><a class="secondary-content">{{ track.length_readable }}</a></li>
                </ul>
                <button class="waves-effect waves-light btn" data-ng-click="clearQueue()">WYCZYŚĆ</button>
            </div>
            <div class="card-panel white">
                <h5 style="margin-top:0">Odtwarzacz</h5>
                <div class="center-align" style="position: relative">
                    <div style="z-index: 10">
                        <a class="grey-text" href="javascript:void(0)" data-ng-click="playerPrev()"><i class="medium material-icons">skip_previous</i></a>
                        <a class="grey-text" href="javascript:void(0)" data-ng-click='playerPause()'><i class="medium material-icons">pause_circle_outline</i></a>
                        <a class="grey-text" href="javascript:void(0)" data-ng-click="playerPlay()"><i class="medium material-icons">play_circle_outline</i></a>
                        <a class="grey-text" href="javascript:void(0)" data-ng-click="playerNext()"><i class="medium material-icons">skip_next</i></a>
                    </div>
                    <div id="controls_cover" class="fill card-panel grey valign-wrapper" style="font-size: 30px; top:-10px" ng-show="isLocked">
                            <span class="valign center-block"> Trwa lekcja...</span>
                        </div>
                    </div>
                <form action="#" >
                    <p class="range-field">
                        <label for="progress" width="100%">{{ trackTitle }} - <span data-ng-if="isPlaying">{{ trackAlbum }} - {{ trackArtist }}&nbsp;&nbsp;&nbsp;</span>[{{ (position-position%60)/60 }}:{{position%60}}/{{ (duration-duration%60)/60 }}:{{duration%60}}]</label>
                        <input type="range" id="progress" step="1" min="0" max="{{ duration }}" data-ng-model="position" disabled="disabled"/>
                    </p>
                    <p class="range-field" >
                        <label for="volume">Głośność</label>
                        <input type="range" id="volume" step="5" min="0" max="100" data-ng-model="volume" data-ng-change="updateVolume()"/>
                    </p>
                </form>
            </div>
        </div>
    </div>
    {% endraw %}
{% endblock %}
{% block script %}
    <script type="text/javascript" src="/static/js/main.js"></script>
{% endblock %}
